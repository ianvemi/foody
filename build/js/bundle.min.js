let n=1;const orden={nombre:"",fecha:"",pedido:[]};function iniciarApp(){mostrarServicios(),mostrarSeccion(),cambiarSeccion(),paginaSiguiente(),paginaAnterior(),botonesPaginador(),mostrarPedido(),nombrePedido(),fechaPedido(),deshabilitarFechaAnterior()}function mostrarSeccion(){const e=document.querySelector(".mostrar-seccion");e&&e.classList.remove("mostrar-seccion");document.querySelector("#s-"+n).classList.add("mostrar-seccion");const t=document.querySelector(".tabs .actual");t&&t.classList.remove("actual");document.querySelector(`[data-tab="${n}"]`).classList.add("actual")}function cambiarSeccion(){document.querySelectorAll(".tabs button").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),n=parseInt(e.target.dataset.tab),mostrarSeccion(),botonesPaginador()})})}async function mostrarServicios(){try{const n=await fetch("./menu.json"),o=await n.json(),{menu:a}=o;a.forEach(n=>{const{id:o,nombre:a,precio:c,img:d}=n;let r=1;const i=document.createElement("P");i.textContent=a,i.classList.add("nombre-comida");const s=document.createElement("P"),l=document.createElement("BUTTON"),m=document.createElement("BUTTON"),u=document.createElement("P");l.textContent="+",l.classList.add("boton-menu"),l.onclick=function(){r+=1,u.textContent=r,p=parseInt(c*r),s.textContent="$"+p,t()},m.textContent="-",m.classList.add("boton-menu"),m.onclick=function(){r<=1?(r=1,t()):(r-=1,u.textContent=r,p=parseInt(c*r),s.textContent="$"+p,t())},u.textContent=r,u.classList.add("cantidad-menu");let p=parseInt(c);s.textContent="$"+p,s.classList.add("precio-comida");const f=document.createElement("IMG");f.setAttribute("src",d);const h=document.createElement("DIV");h.classList.add("div-comida"),h.dataset.idComida=o,h.onclick=e,h.appendChild(i),h.appendChild(s),h.appendChild(f),h.appendChild(m),h.appendChild(l),h.appendChild(u),document.querySelector("#comida").appendChild(h)})}catch(e){alert(e)}function e(e){if("P"===e.target.tagName||"IMG"===e.target.tagName?elemento=e.target.parentElement:"BUTTON"===e.target.tagName?(!function(){const{pedido:e}=orden;orden.pedido=e.filter(e=>null==e.id)}(),elemento=null):elemento=e.target,null!==elemento)if(elemento.classList.contains("selected")){elemento.classList.remove("selected");!function(e){const{pedido:t}=orden;orden.pedido=t.filter(t=>t.id!==e)}(parseInt(elemento.dataset.idComida))}else{elemento.classList.add("selected");!function(e){const{pedido:t}=orden;orden.pedido=[...t,e]}({id:parseInt(elemento.dataset.idComida),nombre:elemento.firstElementChild.textContent,precio:elemento.firstElementChild.nextElementSibling.textContent,cantidad:elemento.children[5].textContent})}}function t(){document.querySelectorAll(".div-comida").forEach(e=>{e.classList.contains("selected")&&e.classList.remove("selected")})}}function paginaSiguiente(){document.querySelector("#siguiente").addEventListener("click",()=>{n++,botonesPaginador()})}function paginaAnterior(){document.querySelector("#anterior").addEventListener("click",()=>{n--,botonesPaginador()})}function botonesPaginador(){const e=document.querySelector("#siguiente"),t=document.querySelector("#anterior");1===n?t.classList.add("ocultar"):3===n?(e.classList.add("ocultar"),t.classList.remove("ocultar"),mostrarPedido()):(t.classList.remove("ocultar"),e.classList.remove("ocultar")),mostrarSeccion()}function mostrarPedido(){let{nombre:e,fecha:t,pedido:n}=orden;const o=document.querySelector(".contenido-resumen");for(;o.firstChild;)o.removeChild(o.firstChild);if(Object.values(orden).includes("")){const e=document.createElement("P");e.textContent="Porfavor, rellene sus datos",e.classList.add("invalidar-pedido"),o.appendChild(e)}else{const a=document.createElement("P"),c=document.createElement("P");a.innerHTML=""+e,c.innerHTML=""+t;const d=document.createElement("DIV");d.classList.add("resumen-pedido");let r=0;n.forEach(e=>{const t=document.createElement("DIV");t.classList.add("contPedido");const n=document.createElement("P");n.textContent=e.nombre;const o=document.createElement("P");o.textContent="--- x"+e.cantidad;const a=document.createElement("P");a.textContent=e.precio;const c=e.precio.split("$");r+=parseInt(c[1].trim()),t.appendChild(n),t.appendChild(o),t.appendChild(a),d.appendChild(t)});const i=document.createElement("DIV");i.innerHTML="<p>Total:<p>$"+r,i.classList.add("total"),o.appendChild(a),o.appendChild(c),o.appendChild(d),o.appendChild(i)}}function nombrePedido(){document.querySelector("#Nombre").addEventListener("input",e=>{const t=e.target.value.trim();""===t||t.length<3?mostrarAlerta("Nombre de 3 letras minimo","error"):orden.nombre=t})}function mostrarAlerta(e,t){if(document.querySelector(".alerta"))return;const n=document.createElement("DIV");n.textContent=e,n.classList.add("alerta"),"error"===t&&n.classList.add("error");document.querySelector(".formulario").appendChild(n),setTimeout(()=>{n.remove()},2e3)}function fechaPedido(){const e=document.querySelector("#Fecha");e.addEventListener("input",t=>{orden.fecha=e.value})}function deshabilitarFechaAnterior(){const e=document.querySelector("#Fecha"),t=new Date,n=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),c=`${n}-${o<10?"0"+o:o}-${a<10?"0"+a:a}`;e.min=c,e.max=c,e.value=c,orden.fecha=c}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));
//# sourceMappingURL=bundle.js.map
