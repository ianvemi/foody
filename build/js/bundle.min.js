let n=1;const orden={nombre:"",fecha:"",pedido:[]};function iniciarApp(){mostrarServicios(),mostrarSeccion(),cambiarSeccion(),paginaSiguiente(),paginaAnterior(),botonesPaginador(),mostrarPedido(),nombrePedido()}function mostrarSeccion(){const e=document.querySelector(".mostrar-seccion");e&&e.classList.remove("mostrar-seccion");document.querySelector("#s-"+n).classList.add("mostrar-seccion");const t=document.querySelector(".tabs .actual");t&&t.classList.remove("actual");document.querySelector(`[data-tab="${n}"]`).classList.add("actual")}function cambiarSeccion(){document.querySelectorAll(".tabs button").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),n=parseInt(e.target.dataset.tab),mostrarSeccion(),botonesPaginador()})})}async function mostrarServicios(){try{const n=await fetch("./menu.json"),o=await n.json(),{menu:c}=o;c.forEach(n=>{const{id:o,nombre:c,precio:a,img:i}=n;let d=1;const r=document.createElement("P");r.textContent=c,r.classList.add("nombre-comida");const s=document.createElement("P"),l=document.createElement("BUTTON"),m=document.createElement("BUTTON"),u=document.createElement("P");l.textContent="+",l.classList.add("boton-menu"),l.onclick=function(){d+=1,u.textContent=d,p=parseInt(a*d),s.textContent="$"+p,t()},m.textContent="-",m.classList.add("boton-menu"),m.onclick=function(){d<=1?(d=1,t()):(d-=1,u.textContent=d,p=parseInt(a*d),s.textContent="$"+p,t())},u.textContent=d,u.classList.add("cantidad-menu");let p=parseInt(a);s.textContent="$"+p,s.classList.add("precio-comida");const g=document.createElement("IMG");g.setAttribute("src",i);const f=document.createElement("DIV");f.classList.add("div-comida"),f.dataset.idComida=o,f.onclick=e,f.appendChild(r),f.appendChild(s),f.appendChild(g),f.appendChild(m),f.appendChild(l),f.appendChild(u),document.querySelector("#comida").appendChild(f)})}catch(e){alert(e)}function e(e){if("P"===e.target.tagName||"IMG"===e.target.tagName?elemento=e.target.parentElement:"BUTTON"===e.target.tagName?(!function(){const{pedido:e}=orden;orden.pedido=e.filter(e=>null==e.id),console.log(orden)}(),elemento=null):elemento=e.target,null!==elemento)if(elemento.classList.contains("selected")){elemento.classList.remove("selected");!function(e){const{pedido:t}=orden;orden.pedido=t.filter(t=>t.id!==e),console.log(orden)}(parseInt(elemento.dataset.idComida))}else{elemento.classList.add("selected");!function(e){const{pedido:t}=orden;orden.pedido=[...t,e],console.log(orden)}({id:parseInt(elemento.dataset.idComida),nombre:elemento.firstElementChild.textContent,precio:elemento.firstElementChild.nextElementSibling.textContent})}}function t(){document.querySelectorAll(".div-comida").forEach(e=>{e.classList.contains("selected")&&e.classList.remove("selected")})}}function paginaSiguiente(){document.querySelector("#siguiente").addEventListener("click",()=>{n++,botonesPaginador()})}function paginaAnterior(){document.querySelector("#anterior").addEventListener("click",()=>{n--,botonesPaginador()})}function botonesPaginador(){const e=document.querySelector("#siguiente"),t=document.querySelector("#anterior");1===n?t.classList.add("ocultar"):3===n?(e.classList.add("ocultar"),t.classList.remove("ocultar")):(t.classList.remove("ocultar"),e.classList.remove("ocultar")),mostrarSeccion()}function mostrarPedido(){let{nombre:e,fecha:t,pedido:n}=orden;if(resumenDiv=document.querySelector(".contenido-resumen"),Object.values(orden).includes("")){const e=document.createElement("P");e.textContent="Porfavor, rellene sus datos",e.classList.add("invalidar-pedido"),resumenDiv.appendChild(e)}}function nombrePedido(){document.querySelector("#Nombre").addEventListener("input",e=>{console.log(e.target.value);const t=e.target.value.trim();""===t||t.length<3?console.log("Nombre invalido"):orden.nombre=t,console.log(orden)})}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));
//# sourceMappingURL=bundle.js.map
