{"version":3,"sources":["app.js"],"names":["n","orden","nombre","fecha","pedido","iniciarApp","mostrarServicios","mostrarSeccion","cambiarSeccion","paginaSiguiente","paginaAnterior","botonesPaginador","mostrarPedido","seccionAnterior","document","querySelector","classList","remove","add","tabAnterior","querySelectorAll","forEach","runner","addEventListener","e","preventDefault","parseInt","target","dataset","tab","console","log","async","resultado","fetch","db","json","menu","id","precio","img","cant","nombreComida","createElement","textContent","precioComida","plus","minus","vCantidad","onclick","precioMenu","deselect","imgComida","setAttribute","comidaDiv","idComida","seleccionarServicio","appendChild","error","alert","tagName","elemento","parentElement","contains","dunner","pags","paga","resumenDiv","Object","values","includes","noPedido"],"mappings":"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","file":"bundle.js","sourcesContent":["let n = 1;\r\n\r\nconst orden ={\r\n    nombre:'',\r\n    fecha:'',\r\n    pedido: []\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp(){\r\n    mostrarServicios();\r\n\r\n    //Resaltar div que presiona\r\n    mostrarSeccion();\r\n    //Oculta o muestra sección\r\n    cambiarSeccion();\r\n\r\n    //Paginacion\r\n    paginaSiguiente();\r\n    paginaAnterior();\r\n\r\n    //Comprueba pag actual para mostrar u ocultar paginación\r\n    botonesPaginador();\r\n\r\n    //Muestra el resumen del pedido o error\r\n    mostrarPedido();\r\n}\r\n\r\n\r\nfunction mostrarSeccion(){\r\n\r\n    //Eliminar seccion anterior\r\n    const seccionAnterior = document.querySelector('.mostrar-seccion');\r\n    if (seccionAnterior){\r\n        seccionAnterior.classList.remove('mostrar-seccion')\r\n    }\r\n    const seccionActual = document.querySelector(`#s-${n}`);\r\n    seccionActual.classList.add('mostrar-seccion')\r\n\r\n     //Eliminar tab anteriormente seleecionado\r\n    const tabAnterior =  document.querySelector('.tabs .actual');\r\n    if(tabAnterior){\r\n        tabAnterior.classList.remove('actual');\r\n    }\r\n    \r\n    //Resalta el tab actual\r\n    const tab=document.querySelector(`[data-tab=\"${n}\"]`);\r\n    tab.classList.add('actual');\r\n}\r\n\r\n\r\n\r\n\r\nfunction cambiarSeccion(){\r\n    const enlaces = document.querySelectorAll('.tabs button');\r\n\r\n    enlaces.forEach( (runner) =>{\r\n        runner.addEventListener('click', (e) =>{\r\n            e.preventDefault();\r\n            n = parseInt(e.target.dataset.tab);\r\n            console.log(n);\r\n\r\n\r\n            //Llamando la función mostrar sección\r\n            mostrarSeccion();\r\n            botonesPaginador();\r\n\r\n        })\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\n//funcion asincrona\r\nasync function mostrarServicios(){\r\ntry {\r\n    //petición a los datos json\r\n    const resultado = await fetch('./menu.json');\r\n    //formateando petición\r\n    const db = await resultado.json();\r\n    //Accediendo a los atributos de menu con Destructuring de la variable db\r\n    const {menu} = db;\r\n    \r\n    //HTML\r\n    //recorriendo JSON\r\n    menu.forEach(runner =>{\r\n        //Guardando contenido en variables para cada valor de los atributos;s\r\n        const{id, nombre, precio, img} = runner;\r\n        let cant = 1;\r\n        let elemento;\r\n\r\n        //DOM Scripting\r\n        //Creando parrafos <p> del nombre\r\n        const nombreComida = document.createElement('P');\r\n        nombreComida.textContent=nombre;\r\n        nombreComida.classList.add('nombre-comida');\r\n        // console.log(nombreComida)\r\n\r\n         //Precio\r\n         const precioComida = document.createElement('P');\r\n         const plus = document.createElement('BUTTON');\r\n         const minus = document.createElement('BUTTON');\r\n         const vCantidad = document.createElement('P');\r\n         //console.log(plus);\r\n         plus.textContent=\"+\";\r\n         plus.classList.add('boton-menu');\r\n         plus.onclick = nuevoPrecio;\r\n\r\n         minus.textContent=\"-\";\r\n         minus.classList.add('boton-menu');\r\n         minus.onclick = nuevomPrecio;\r\n\r\n         vCantidad.textContent = cant;\r\n         vCantidad.classList.add('cantidad-menu');\r\n\r\n         let precioMenu = parseInt(precio);\r\n         precioComida.textContent= \"$\"+precioMenu;\r\n         \r\n         precioComida.classList.add('precio-comida');\r\n\r\n\r\n         function nuevoPrecio(){\r\n            cant = cant + 1;\r\n            vCantidad.textContent = cant;\r\n            precioMenu = parseInt(precio * cant);\r\n            precioComida.textContent= \"$\"+precioMenu;\r\n            deselect();\r\n        }\r\n\r\n        function nuevomPrecio(){\r\n            if(cant <= 1){\r\n                cant = 1;\r\n            }else{\r\n            cant = cant - 1;\r\n            vCantidad.textContent = cant;\r\n            precioMenu = parseInt(precio * cant);\r\n            precioComida.textContent= \"$\"+precioMenu;\r\n            deselect();}\r\n            \r\n        }\r\n\r\n        //Img\r\n        const imgComida = document.createElement('IMG');\r\n        imgComida.setAttribute(\"src\", img)\r\n        //console.log(imgComida);\r\n\r\n        //Div contenedor\r\n        const comidaDiv = document.createElement('DIV')\r\n        comidaDiv.classList.add('div-comida');\r\n\r\n        //Asignando dataset a cada contenedor \r\n        comidaDiv.dataset.idComida = id;\r\n        //Agregando event handler al div contenedor de los productos\r\n        comidaDiv.onclick = seleccionarServicio;\r\n\r\n        //Precio y nombre al div\r\n        comidaDiv.appendChild(nombreComida);\r\n        comidaDiv.appendChild(precioComida);\r\n        comidaDiv.appendChild(imgComida);\r\n        comidaDiv.appendChild(minus);\r\n        comidaDiv.appendChild(plus);\r\n        comidaDiv.appendChild(vCantidad);\r\n        // console.log(servicioDiv)\r\n\r\n        //HTML IN\r\n        document.querySelector('#comida').appendChild(comidaDiv);\r\n    })\r\n} catch (error) {\r\n    alert(error);\r\n}\r\n\r\n//Función utilizada para forzar seleccion del div y no en elementos hijo asi mismo, poner y quitar selección de elementos con estilos\r\nfunction seleccionarServicio(e){\r\n    //Seleccionar forzosamente el div contenedor(id dataset)\r\n    if(e.target.tagName === 'P' || e.target.tagName === 'IMG'){\r\n        elemento= e.target.parentElement;\r\n    }else{\r\n        elemento= e.target;\r\n    }\r\n\r\n   \r\n    if(elemento.classList.contains('selected')){\r\n        elemento.classList.remove('selected');\r\n\r\n    }else{\r\n        elemento.classList.add('selected');\r\n    }\r\n    // console.log(elemento);\r\n}\r\n\r\n//Funcion utilizada para quitar selección de productos cuando se cambia alguna cantidad y asi actualizar precio.\r\nfunction deselect(){\r\n    let divSelected = document.querySelectorAll('.div-comida');\r\n    //Recorremos el nodeList identificando los elementos previamente seleccionados y quitamos la seleccion\r\n    divSelected.forEach(dunner =>{\r\n        // console.log(dunner);\r\n        if(dunner.classList.contains('selected')){\r\n            dunner.classList.remove('selected');\r\n        }\r\n    })\r\n    // console.log(divSelected);\r\n}\r\n}\r\n\r\nfunction paginaSiguiente(){\r\nconst pags = document.querySelector('#siguiente');\r\npags.addEventListener('click', () =>{\r\n    n++;\r\n  \r\n    botonesPaginador();\r\n})\r\n}\r\n\r\nfunction paginaAnterior(){\r\n    const paga = document.querySelector('#anterior');\r\n    paga.addEventListener('click', () =>{\r\n        n--;\r\n        botonesPaginador();\r\n    })\r\n\r\n}\r\n\r\nfunction botonesPaginador(){\r\n    const pags = document.querySelector('#siguiente');\r\n    const paga = document.querySelector('#anterior');\r\n\r\n    if(n ===1){\r\n        console.log(\"se oculta el boton de anterior\")\r\n        paga.classList.add('ocultar');\r\n    } else if (n===3){\r\n        pags.classList.add('ocultar');\r\n        paga.classList.remove('ocultar');\r\n    }else {\r\n        paga.classList.remove('ocultar');\r\n        pags.classList.remove('ocultar');\r\n    }\r\n    mostrarSeccion();\r\n}\r\n\r\nfunction mostrarPedido(){\r\n    //Destructuring\r\n    let {nombre, fecha, pedido} = orden; \r\n\r\n    //Seleccionar resumen\r\n    resumenDiv = document.querySelector('.contenido-resumen')\r\n\r\n\r\n    //Validación de objeto\r\n    if(Object.values(orden).includes('')){\r\n       const noPedido = document.createElement('P');\r\n       noPedido.textContent=\"Porfavor, rellene sus datos\";\r\n       noPedido.classList.add('invalidar-pedido');\r\n\r\n       //Agregando al div de resumen\r\n       resumenDiv.appendChild(noPedido);\r\n    }\r\n    \r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}