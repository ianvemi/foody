{"version":3,"sources":["app.js"],"names":["iniciarApp","mostrarServicios","async","resultado","fetch","db","json","menu","forEach","runner","id","nombre","precio","img","cant","nombreComida","document","createElement","textContent","classList","add","precioComida","plus","minus","vCantidad","onclick","precioMenu","parseInt","deselect","imgComida","setAttribute","comidaDiv","dataset","idComida","seleccionarServicio","appendChild","querySelector","error","alert","e","target","tagName","elemento","parentElement","contains","remove","querySelectorAll","dunner","addEventListener"],"mappings":"AAIA,SAAAA,aACAC,mBAGAC,eAAAD,mBACA,IAEA,MAAAE,QAAAC,MAAA,eAEAC,QAAAF,EAAAG,QAEAC,KAAAA,GAAAF,EAIAE,EAAAC,QAAAC,IAEA,MAAAC,GAAAA,EAAAC,OAAAA,EAAAC,OAAAA,EAAAC,IAAAA,GAAAJ,EACA,IAAAK,EAAA,EAKA,MAAAC,EAAAC,SAAAC,cAAA,KACAF,EAAAG,YAAAP,EACAI,EAAAI,UAAAC,IAAA,iBAIA,MAAAC,EAAAL,SAAAC,cAAA,KACAK,EAAAN,SAAAC,cAAA,UACAM,EAAAP,SAAAC,cAAA,UACAO,EAAAR,SAAAC,cAAA,KAEAK,EAAAJ,YAAA,IACAI,EAAAH,UAAAC,IAAA,cACAE,EAAAG,QAeA,WACAX,GAAA,EACAU,EAAAN,YAAAJ,EACAY,EAAAC,SAAAf,EAAAE,GACAO,EAAAH,YAAA,IAAAQ,EACAE,KAlBAL,EAAAL,YAAA,IACAK,EAAAJ,UAAAC,IAAA,cACAG,EAAAE,QAmBA,WACAX,GAAA,EACAA,EAAA,GAEAA,GAAA,EACAU,EAAAN,YAAAJ,EACAY,EAAAC,SAAAf,EAAAE,GACAO,EAAAH,YAAA,IAAAQ,EACAE,MAzBAJ,EAAAN,YAAAJ,EACAU,EAAAL,UAAAC,IAAA,iBAEA,IAAAM,EAAAC,SAAAf,GACAS,EAAAH,YAAA,IAAAQ,EAEAL,EAAAF,UAAAC,IAAA,iBAwBA,MAAAS,EAAAb,SAAAC,cAAA,OACAY,EAAAC,aAAA,MAAAjB,GAIA,MAAAkB,EAAAf,SAAAC,cAAA,OACAc,EAAAZ,UAAAC,IAAA,cAGAW,EAAAC,QAAAC,SAAAvB,EAEAqB,EAAAN,QAAAS,EAGAH,EAAAI,YAAApB,GACAgB,EAAAI,YAAAd,GACAU,EAAAI,YAAAN,GACAE,EAAAI,YAAAZ,GACAQ,EAAAI,YAAAb,GACAS,EAAAI,YAAAX,GAIAR,SAAAoB,cAAA,WAAAD,YAAAJ,KAEA,MAAAM,GACAC,MAAAD,GAIA,SAAAH,EAAAK,GAEA,MAAAA,EAAAC,OAAAC,SAAA,QAAAF,EAAAC,OAAAC,QACAC,SAAAH,EAAAC,OAAAG,cAEAD,SAAAH,EAAAC,OAIAE,SAAAvB,UAAAyB,SAAA,YACAF,SAAAvB,UAAA0B,OAAA,YAGAH,SAAAvB,UAAAC,IAAA,YAMA,SAAAQ,IACAZ,SAAA8B,iBAAA,eAEAtC,QAAAuC,IAEAA,EAAA5B,UAAAyB,SAAA,aACAG,EAAA5B,UAAA0B,OAAA,eAnIA7B,SAAAgC,iBAAA,oBAAA,WACAhD","file":"bundle.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp(){\r\n    mostrarServicios();\r\n}\r\n//funcion asincrona\r\nasync function mostrarServicios(){\r\ntry {\r\n    //petición a los datos json\r\n    const resultado = await fetch('./menu.json');\r\n    //formateando petición\r\n    const db = await resultado.json();\r\n    //Accediendo a los atributos de menu con Destructuring de la variable db\r\n    const {menu} = db;\r\n    \r\n    //HTML\r\n    //recorriendo JSON\r\n    menu.forEach(runner =>{\r\n        //Guardando contenido en variables para cada valor de los atributos;s\r\n        const{id, nombre, precio, img} = runner;\r\n        let cant = 1;\r\n        let elemento;\r\n\r\n        //DOM Scripting\r\n        //Creando parrafos <p> del nombre\r\n        const nombreComida = document.createElement('P');\r\n        nombreComida.textContent=nombre;\r\n        nombreComida.classList.add('nombre-comida');\r\n        // console.log(nombreComida)\r\n\r\n         //Precio\r\n         const precioComida = document.createElement('P');\r\n         const plus = document.createElement('BUTTON');\r\n         const minus = document.createElement('BUTTON');\r\n         const vCantidad = document.createElement('P');\r\n         //console.log(plus);\r\n         plus.textContent=\"+\";\r\n         plus.classList.add('boton-menu');\r\n         plus.onclick = nuevoPrecio;\r\n\r\n         minus.textContent=\"-\";\r\n         minus.classList.add('boton-menu');\r\n         minus.onclick = nuevomPrecio;\r\n\r\n         vCantidad.textContent = cant;\r\n         vCantidad.classList.add('cantidad-menu');\r\n\r\n         let precioMenu = parseInt(precio);\r\n         precioComida.textContent= \"$\"+precioMenu;\r\n         \r\n         precioComida.classList.add('precio-comida');\r\n\r\n\r\n         function nuevoPrecio(){\r\n            cant = cant + 1;\r\n            vCantidad.textContent = cant;\r\n            precioMenu = parseInt(precio * cant);\r\n            precioComida.textContent= \"$\"+precioMenu;\r\n            deselect();\r\n        }\r\n\r\n        function nuevomPrecio(){\r\n            if(cant <= 1){\r\n                cant = 1;\r\n            }else{\r\n            cant = cant - 1;\r\n            vCantidad.textContent = cant;\r\n            precioMenu = parseInt(precio * cant);\r\n            precioComida.textContent= \"$\"+precioMenu;\r\n            deselect();}\r\n            \r\n        }\r\n\r\n        //Img\r\n        const imgComida = document.createElement('IMG');\r\n        imgComida.setAttribute(\"src\", img)\r\n        //console.log(imgComida);\r\n\r\n        //Div contenedor\r\n        const comidaDiv = document.createElement('DIV')\r\n        comidaDiv.classList.add('div-comida');\r\n\r\n        //Asignando dataset a cada contenedor \r\n        comidaDiv.dataset.idComida = id;\r\n        //Agregando event handler al div contenedor de los productos\r\n        comidaDiv.onclick = seleccionarServicio;\r\n\r\n        //Precio y nombre al div\r\n        comidaDiv.appendChild(nombreComida);\r\n        comidaDiv.appendChild(precioComida);\r\n        comidaDiv.appendChild(imgComida);\r\n        comidaDiv.appendChild(minus);\r\n        comidaDiv.appendChild(plus);\r\n        comidaDiv.appendChild(vCantidad);\r\n        // console.log(servicioDiv)\r\n\r\n        //HTML IN\r\n        document.querySelector('#comida').appendChild(comidaDiv);\r\n    })\r\n} catch (error) {\r\n    alert(error);\r\n}\r\n\r\n//Función utilizada para forzar seleccion del div y no en elementos hijo asi mismo, poner y quitar selección de elementos con estilos\r\nfunction seleccionarServicio(e){\r\n    //Seleccionar forzosamente el div contenedor(id dataset)\r\n    if(e.target.tagName === 'P' || e.target.tagName === 'IMG'){\r\n        elemento= e.target.parentElement;\r\n    }else{\r\n        elemento= e.target;\r\n    }\r\n\r\n   \r\n    if(elemento.classList.contains('selected')){\r\n        elemento.classList.remove('selected');\r\n\r\n    }else{\r\n        elemento.classList.add('selected');\r\n    }\r\n    // console.log(elemento);\r\n}\r\n\r\n//Funcion utilizada para quitar selección de productos cuando se cambia alguna cantidad y asi actualizar precio.\r\nfunction deselect(){\r\n    let divSelected = document.querySelectorAll('.div-comida');\r\n    //Recorremos el nodeList identificando los elementos previamente seleccionados y quitamos la seleccion\r\n    divSelected.forEach(dunner =>{\r\n        // console.log(dunner);\r\n        if(dunner.classList.contains('selected')){\r\n            dunner.classList.remove('selected');\r\n        }\r\n    })\r\n    // console.log(divSelected);\r\n}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}